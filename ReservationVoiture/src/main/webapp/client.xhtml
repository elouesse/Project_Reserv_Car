<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:b="http://bootsfaces.net/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Client</title>
	<h:outputStylesheet library="css" name="style.css" />
</h:head>
<h:body>

	<ui:include id="top" src="nav-bar.xhtml" />

	<p:fieldset>
		<h:form>
			<p:dataTable var="client" value="#{ClientB.clients}" paginator="true"
				filteredValue="#{ClientB.clientsFiltre}" widgetVar="clientTable"
				emptyMessage="Aucun client correspondant à votre recherche"
				rows="10" styleClass="paginated">
				<f:facet name="header">
            Liste des clients
            <p:outputPanel>
						<h:outputText value="Search all fields:" />
						<p:inputText id="globalFilter"
							onkeyup="PF('clientTable').filter()" style="width:150px"
							placeholder="Enter keyword" />
					</p:outputPanel>
				</f:facet>
				<p:column headerText="Id">
					<h:outputText value="#{client.idClient}" />
				</p:column>

				<p:column headerText="Nom" filterBy="#{client.nom}">
					<h:outputText value="#{client.nom}" />
				</p:column>

				<p:column headerText="Prenom" filterBy="#{client.prenom}">
					<h:outputText value="#{client.prenom}" />
				</p:column>

				<p:column headerText="Mail">
					<h:outputText value="#{client.mail}" />
				</p:column>

				<p:column headerText="Pays">
					<h:outputText value="#{client.pays}" />
				</p:column>


			</p:dataTable>
		</h:form>
	</p:fieldset>
	<br></br>
	<!-- 	Formulaire pour modifier un client -->

	<p:fieldset>
		<h:form>
			<div style="text-align: center; font-size: 20px">Recherche et
				mise à jour client</div>
			<br></br>
			<div style="text-align: center">
				<p:selectOneMenu value="#{ClientB.idClient}">
					<f:selectItems value="#{ClientB.clients}" var="c"
						itemLabel="#{c.idClient} : #{c.nom}" itemValue="#{c.idClient}" />
				</p:selectOneMenu>
			</div>
			<p:commandButton update="display" action="#{ClientB.getClie}"
				value="Chercher"></p:commandButton>
			<br></br>
			<h:panelGrid id="display" columns="4">
				<h:outputText value="Nom:" />
				<p:inputText value="#{ClientB.cli.nom}" />

				<h:outputText value="Prénom:" />
				<p:inputText value="#{ClientB.cli.prenom}" />

				<h:outputText value="Date de naissance:" />
				<p:outputLabel value="#{ClientB.cli.dateDeNaissance}" />

				<h:outputText value="Téléphone:" />
				<p:inputText value="#{ClientB.cli.numeroTel}" />

				<h:outputText value="N° permis:" />
				<p:inputText value="#{ClientB.cli.numeroPermis}" />

				<h:outputText value="Adresse:" />
				<p:inputText value="#{ClientB.cli.adressPostal}" />

				<h:outputText value="Mail:" />
				<p:inputText value="#{ClientB.cli.mail}" />

				<h:outputText value="Pays:" />
				<p:inputText value="#{ClientB.cli.pays}" />

				<h:outputText value="Date de délivrance:" />
				<h:outputLabel value="#{ClientB.cli.dateDeDelivrance}" />

				<h:outputText value="Lieu de naissance:" />
				<h:outputLabel value="#{ClientB.cli.lieuDeNaissance}" />

				<h:outputText value="Délivré par:" />
				<p:inputText value="#{ClientB.cli.delivrerPar}" />

				<p:growl id="message" showDetail="true" />
				<p:commandButton value="Modifier" action="#{ClientB.update}"
					actionListener="#{ClientB.destroyWorld2}" update="message">
					<p:confirm header="Confirmation" message="Are you sure to update?"
						icon="ui-icon-alert" />
				</p:commandButton>

				<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
					<p:commandButton value="Yes" actionListener="#{ClientB.update}"
						type="button" styleClass="ui-confirmdialog-yes"
						icon="ui-icon-check" />
					<p:commandButton value="No" type="button"
						styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
				</p:confirmDialog>



			</h:panelGrid>
		</h:form>
	</p:fieldset>



</h:body>
</html>